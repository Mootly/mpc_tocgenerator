class mpc_tocgenerator{constructor(t="toc-links",e="page-body",i="h2",s="h3, dt",l="",n=!0){this.tocTarget=document.getElementById(t),this.tocTarget?.parentNode&&(this.tocParent=this.tocTarget.parentNode,this.tocTarget.style.display="block",this.tocTier1=i||"h2",this.tocTier2=s||"h3, dt",this.tocInclude=this.tocTier1+", "+this.tocTier2,this.tocContainer=e||"page-body",this.tocExclude=l?this.tocTarget.innerText.toString()+", "+l:this.tocTarget.innerText,this.skipChildren=!1,n&&this.create())}create(){this.el_tocList=document.createElement("ul"),this.el_tocSublist=document.createElement("ul"),this.el_tocList.id="jumpto",this.tocParent.insertBefore(this.el_tocList,this.tocTarget.nextSibling),this.el_tocList=document.getElementById("jumpto"),this.tocList=document.getElementById(this.tocContainer)?.querySelectorAll(this.tocInclude),this.idCount=1,this.tocList.forEach((t=>{if(!t.textContent)return!1;if(this.el_linkText=t.textContent||"",t.hasAttribute("id")||(t.id="goto-"+this.idCount+++"-"+this.el_linkText.replace(/[`~!@#$%^&*()|+=?;'",.<>{}[\]\\/]/gi,"").trim().replace(/ /g,"-").substring(0,24)),this.el_tocSublist.childElementCount&&this.el_tocList.childElementCount)for(this.el_tocList.lastElementChild?.appendChild(this.el_tocSublist.cloneNode(!0));this.el_tocSublist.firstChild;)this.el_tocSublist.removeChild(this.el_tocSublist.firstChild);t.classList.contains("toc-skip")||t.textContent&&-1!=this.tocExclude.indexOf(t.textContent)?this.skipChildren=!0:t.textContent&&t.tagName.toLowerCase()==this.tocTier1&&(this.skipChildren=!1,this.el_listItem=document.createElement("li"),this.el_listItem.id="jumpto_"+t.id,this.el_linkItem=document.createElement("a"),this.el_linkItem.setAttribute("href","#"+t.id),this.el_linkItem.innerText=t.textContent,this.el_listItem.appendChild(this.el_linkItem),this.el_tocList?.appendChild(this.el_listItem)),t.textContent&&t.classList?.contains("add-toc")&&!this.skipChildren&&(this.el_listSubitem=document.createElement("li"),this.el_listSubitem.id="jumpto"+t.id,this.el_linkSubitem=document.createElement("a"),this.el_linkSubitem.setAttribute("href","#"+t.id),this.el_linkSubitem.innerText=t.textContent,this.el_listSubitem.appendChild(this.el_linkSubitem),this.el_tocSublist?.appendChild(this.el_listSubitem))}))}}
//# sourceMappingURL=tocgenerator.min.js.map